<!DOCTYPE html><html><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/><title>graphql/validation | API Reference</title><meta name="viewport" content="width=640"/><meta property="og:title" content="GraphQL: A query language for APIs."/><meta property="og:description" content="GraphQL provides a complete description of the data in your API, gives clients the power to ask for exactly what they need and nothing more, makes it easier to evolve APIs over time, and enables powerful developer tools."/><meta property="og:type" content="website"/><meta property="og:url" content="http://graphql.org/"/><meta property="og:image" content="/graphql.github.io/img/og_image.png"/><meta property="og:image:type" content="image/png"/><meta name="twitter:card" content="summary"/><meta name="twitter:site" content="@graphql"/><meta name="twitter:title" content="GraphQL: A query language for APIs."/><meta name="twitter:description" content="GraphQL gives clients the power to ask for exactly what they need and nothing more, making it easier to evolve APIs over time."/><meta name="twitter:image" content="/graphql.github.io/img/twitter_image.png"/><link rel="shortcut icon" href="/graphql.github.io/img/favicon.png"/><link rel="home" type="application/rss+xml" href="/graphql.github.io/blog/rss.xml" title="GraphQL Team Blog"/><link rel="stylesheet" href="/graphql.github.io/style.css"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Rubik:300|Roboto:300"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,400i,600"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/></head><body><header><section><a class="nav-home" href="/graphql.github.io/"><img class="nav-logo" src="/graphql.github.io/img/logo.svg" width="30" height="30"/>GraphQL</a><nav><a href="/graphql.github.io/learn/">Learn</a><a href="/graphql.github.io/code/">Code</a><a href="/graphql.github.io/community/">Community</a><a href="/graphql.github.io/blog/">Blog</a><a href="http://facebook.github.io/graphql/" target="_blank" rel="noopener noreferrer">Spec</a></nav><div class="algolia-search-wrapper"><input type="text" id="algolia-search-input" placeholder="Search docs..."/></div></section></header><section><div class="documentationContent"><div class="inner-content"><h1>graphql/validation</h1><div><p><code>graphql/validation</code> 模組完成了獲取 GraphQL 結果的驗證階段。你可以從 <code>graphql/validation</code> 模組載入，或是從 root <code>graphql</code> 模組載入。例如：</p><pre class="prism language-js"><span class="keyword">import</span> <span class="punctuation">{</span> validate <span class="punctuation">}</span> <span class="keyword">from</span> <span class="string">&#x27;graphql/validation&#x27;</span><span class="punctuation">;</span> <span spellcheck="true" class="comment">// ES6</span>
<span class="keyword">var</span> <span class="punctuation">{</span> validate <span class="punctuation">}</span> <span class="operator">=</span> <span class="function">require</span><span class="punctuation">(</span><span class="string">&#x27;graphql/validation&#x27;</span><span class="punctuation">)</span><span class="punctuation">;</span> <span spellcheck="true" class="comment">// CommonJS</span></pre><h2><a class="anchor" name=""></a>概觀 <a class="hash-link" href="#">#</a></h2><div><ul class="apiIndex">
  <li>
    <a href="#validate">
      <pre>function validate</pre>
      針對提供的 Schema 驗證一個 AST。
    </a>
  </li>
  <li>
    <a href="#specifiedrules">
      <pre>var specifiedRules</pre>
      在 GraphQL 規範中所描述的標準驗證規則列表。
    </a>
  </li>
</ul>

</div><h2><a class="anchor" name=""></a>驗證 <a class="hash-link" href="#">#</a></h2><h3><a class="anchor" name="validate"></a>validate <a class="hash-link" href="#validate">#</a></h3><pre class="prism language-js"><span class="keyword">function</span> <span class="function">validate</span><span class="punctuation">(</span>
  schema<span class="punctuation">:</span> GraphQLSchema<span class="punctuation">,</span>
  ast<span class="punctuation">:</span> Document<span class="punctuation">,</span>
  rules<span class="operator">?</span><span class="punctuation">:</span> Array<span class="operator">&lt;</span>any<span class="operator">&gt;</span>
<span class="punctuation">)</span><span class="punctuation">:</span> Array<span class="operator">&lt;</span>GraphQLError<span class="operator">&gt;</span></pre><p>實作規範中的「驗證」章節。</p><p>驗證是同步執行的，回傳一個發生的錯誤組成的陣列，或是如果沒有錯誤且 document 是有效的的話，回傳一個空陣列。</p><p>可以提供一個特定驗證規則的列表。如果沒有提供，將會使用 GraphQL 規範所定義的預設規則列表。</p><p>每個驗證規則都是一個回傳 visitor（參考 language/visitor）的 function。當驗證失敗時，Visitor 方法預期會回傳 GraphQLErrors，或是 GraphQLErrors 的陣列。</p><p>Visitors 也可以提供 <code>visitSpreadFragments: true</code>，它將改變 visitor 的行為以跳過頂層所定義的 fragment，取而代之訪問那些在遇到 spread 的每個點的 fragment。</p><h3><a class="anchor" name="specifiedrules"></a>specifiedRules <a class="hash-link" href="#specifiedrules">#</a></h3><pre class="prism language-js"><span class="keyword">var</span> specifiedRules<span class="punctuation">:</span> Array<span class="operator">&lt;</span><span class="punctuation">(</span>context<span class="punctuation">:</span> ValidationContext<span class="punctuation">)</span><span class="punctuation">:</span> any<span class="operator">&gt;</span></pre><p>這個組合包含由 GraphQL 規範所定義的所有驗證規則</p></div></div><div class="nav-docs"><div><h3>GraphQL.js Tutorial</h3><ul><li><a style="margin-left:0;" class="active" href="/graphql.github.io/graphql-js/">Getting Started</a></li><li><a style="margin-left:0;" class="active" href="/graphql.github.io/graphql-js/running-an-express-graphql-server/">Running Express + GraphQL</a></li><li><a style="margin-left:0;" class="active" href="/graphql.github.io/graphql-js/graphql-clients/">GraphQL Clients</a></li><li><a style="margin-left:0;" class="active" href="/graphql.github.io/graphql-js/basic-types/">Basic Types</a></li><li><a style="margin-left:0;" class="active" href="/graphql.github.io/graphql-js/passing-arguments/">Passing Arguments</a></li><li><a style="margin-left:0;" class="active" href="/graphql.github.io/graphql-js/object-types/">Object Types</a></li><li><a style="margin-left:0;" class="active" href="/graphql.github.io/graphql-js/mutations-and-input-types/">Mutations and Input Types</a></li><li><a style="margin-left:0;" class="active" href="/graphql.github.io/graphql-js/authentication-and-express-middleware/">Authentication &amp; Middleware</a></li></ul></div><div><h3>Advanced Guides</h3><ul><li><a style="margin-left:0;" class="active" href="/graphql.github.io/graphql-js/constructing-types/">Constructing Types</a></li></ul></div><div><h3>API Reference</h3><ul><li><a style="margin-left:0;" class="active" href="/graphql.github.io/graphql-js/express-graphql/">express-graphql</a><ul><li><a href="/graphql.github.io/graphql-js/express-graphql/#graphqlhttp">graphqlHTTP</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/graphql.github.io/graphql-js/graphql/">graphql</a><ul><li><a href="/graphql.github.io/graphql-js/graphql/#graphql">graphql</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/graphql.github.io/graphql-js/error/">graphql/error</a><ul><li><a href="/graphql.github.io/graphql-js/error/#formaterror">formatError</a></li><li><a href="/graphql.github.io/graphql-js/error/#graphqlerror">GraphQLError</a></li><li><a href="/graphql.github.io/graphql-js/error/#locatederror">locatedError</a></li><li><a href="/graphql.github.io/graphql-js/error/#syntaxerror">syntaxError</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/graphql.github.io/graphql-js/execution/">graphql/execution</a><ul><li><a href="/graphql.github.io/graphql-js/execution/#execute">execute</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/graphql.github.io/graphql-js/language/">graphql/language</a><ul><li><a href="/graphql.github.io/graphql-js/language/#break">BREAK</a></li><li><a href="/graphql.github.io/graphql-js/language/#getlocation">getLocation</a></li><li><a href="/graphql.github.io/graphql-js/language/#kind">Kind</a></li><li><a href="/graphql.github.io/graphql-js/language/#lex">lex</a></li><li><a href="/graphql.github.io/graphql-js/language/#parse">parse</a></li><li><a href="/graphql.github.io/graphql-js/language/#parsevalue">parseValue</a></li><li><a href="/graphql.github.io/graphql-js/language/#printsource">printSource</a></li><li><a href="/graphql.github.io/graphql-js/language/#visit">visit</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/graphql.github.io/graphql-js/type/">graphql/types</a><ul><li><a href="/graphql.github.io/graphql-js/type/#getnamedtype">getNamedType</a></li><li><a href="/graphql.github.io/graphql-js/type/#getnullabletype">getNullableType</a></li><li><a href="/graphql.github.io/graphql-js/type/#graphqlboolean">GraphQLBoolean</a></li><li><a href="/graphql.github.io/graphql-js/type/#graphqlenumtype">GraphQLEnumType</a></li><li><a href="/graphql.github.io/graphql-js/type/#graphqlfloat">GraphQLFloat</a></li><li><a href="/graphql.github.io/graphql-js/type/#graphqlid">GraphQLID</a></li><li><a href="/graphql.github.io/graphql-js/type/#graphqlinputobjecttype">GraphQLInputObjectType</a></li><li><a href="/graphql.github.io/graphql-js/type/#graphqlint">GraphQLInt</a></li><li><a href="/graphql.github.io/graphql-js/type/#graphqlinterfacetype">GraphQLInterfaceType</a></li><li><a href="/graphql.github.io/graphql-js/type/#graphqllist">GraphQLList</a></li><li><a href="/graphql.github.io/graphql-js/type/#graphqlnonnull">GraphQLNonNull</a></li><li><a href="/graphql.github.io/graphql-js/type/#graphqlobjecttype">GraphQLObjectType</a></li><li><a href="/graphql.github.io/graphql-js/type/#graphqlscalartype">GraphQLScalarType</a></li><li><a href="/graphql.github.io/graphql-js/type/#graphqlschema">GraphQLSchema</a></li><li><a href="/graphql.github.io/graphql-js/type/#graphqlstring">GraphQLString</a></li><li><a href="/graphql.github.io/graphql-js/type/#graphqluniontype">GraphQLUnionType</a></li><li><a href="/graphql.github.io/graphql-js/type/#isabstracttype">isAbstractType</a></li><li><a href="/graphql.github.io/graphql-js/type/#iscompositetype">isCompositeType</a></li><li><a href="/graphql.github.io/graphql-js/type/#isinputtype">isInputType</a></li><li><a href="/graphql.github.io/graphql-js/type/#isleaftype">isLeafType</a></li><li><a href="/graphql.github.io/graphql-js/type/#isoutputtype">isOutputType</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/graphql.github.io/graphql-js/utilities/">graphql/utilities</a><ul><li><a href="/graphql.github.io/graphql-js/utilities/#astfromvalue">astFromValue</a></li><li><a href="/graphql.github.io/graphql-js/utilities/#buildastschema">buildASTSchema</a></li><li><a href="/graphql.github.io/graphql-js/utilities/#buildclientschema">buildClientSchema</a></li><li><a href="/graphql.github.io/graphql-js/utilities/#buildschema">buildSchema</a></li><li><a href="/graphql.github.io/graphql-js/utilities/#introspectionquery">introspectionQuery</a></li><li><a href="/graphql.github.io/graphql-js/utilities/#isvalidjsvalue">isValidJSValue</a></li><li><a href="/graphql.github.io/graphql-js/utilities/#isvalidliteralvalue">isValidLiteralValue</a></li><li><a href="/graphql.github.io/graphql-js/utilities/#printintrospectionschema">printIntrospectionSchema</a></li><li><a href="/graphql.github.io/graphql-js/utilities/#printschema">printSchema</a></li><li><a href="/graphql.github.io/graphql-js/utilities/#typefromast">typeFromAST</a></li><li><a href="/graphql.github.io/graphql-js/utilities/#typeinfo">TypeInfo</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/graphql.github.io/graphql-js/validation/">graphql/validation</a><ul><li><a href="/graphql.github.io/graphql-js/validation/#specifiedrules">specifiedRules</a></li><li><a href="/graphql.github.io/graphql-js/validation/#validate">validate</a></li></ul></li></ul></div></div></div></section><footer><section class="sitemap"><a href="/" class="nav-home"></a><div><h5><a href="/graphql.github.io/learn/">Learn</a></h5><a href="/graphql.github.io/learn/">Introduction</a><a href="/graphql.github.io/learn/queries/">Query Language</a><a href="/graphql.github.io/learn/schema/">Type System</a><a href="/graphql.github.io/learn/execution/">Execution</a><a href="/graphql.github.io/learn/best-practices/">Best Practices</a></div><div><h5><a href="/graphql.github.io/code">Code</a></h5><a href="/graphql.github.io/code/#server-libraries">Servers</a><a href="/graphql.github.io/code/#graphql-clients">Clients</a><a href="/graphql.github.io/code/#tools">Tools</a></div><div><h5><a href="/graphql.github.io/community">Community</a></h5><a href="/graphql.github.io/community/upcoming-events/">Upcoming Events</a><a href="http://stackoverflow.com/questions/tagged/graphql" target="_blank" rel="noopener noreferrer">Stack Overflow</a><a href="https://www.facebook.com/groups/graphql.community/" target="_blank" rel="noopener noreferrer">Facebook Group</a><a href="https://twitter.com/GraphQL" target="_blank" rel="noopener noreferrer">Twitter</a></div><div><h5>More</h5><a href="/graphql.github.io/blog">GraphQL Team Blog</a><a href="http://facebook.github.io/graphql/" target="_blank" rel="noopener noreferrer">Read the Spec</a><a href="https://github.com/graphql" target="_blank" rel="noopener noreferrer">GitHub</a><a href="https://github.com/graphql/graphql.github.io/edit/source/site/graphql-js/APIReference-Validation.md" target="_blank" rel="noopener noreferrer">Edit this page ✎</a></div></section><a href="https://code.facebook.com/projects/" target="_blank" rel="noopener noreferrer" class="fbOpenSource"><img src="/graphql.github.io/img/oss_logo.png" alt="Facebook Open Source" width="170" height="45"/></a><section class="copyright">Copyright © 2016 Facebook Inc. The contents of this page are licensed BSD-3-Clause.</section></footer><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
        docsearch({
          apiKey: 'd103541f3e6041148aade2e746ed4d61',
          indexName: 'graphql',
          inputSelector: '#algolia-search-input'
        });
      </script><script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-44373548-16', 'auto');
ga('send', 'pageview');
      </script></body></html>