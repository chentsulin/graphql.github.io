<!DOCTYPE html><html><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/><title>graphql/error | API Reference</title><meta name="viewport" content="width=640"/><meta property="og:title" content="GraphQL: A query language for APIs."/><meta property="og:description" content="GraphQL provides a complete description of the data in your API, gives clients the power to ask for exactly what they need and nothing more, makes it easier to evolve APIs over time, and enables powerful developer tools."/><meta property="og:type" content="website"/><meta property="og:url" content="http://graphql.org/"/><meta property="og:image" content="/graphql.github.io/img/og_image.png"/><meta property="og:image:type" content="image/png"/><meta name="twitter:card" content="summary"/><meta name="twitter:site" content="@graphql"/><meta name="twitter:title" content="GraphQL: A query language for APIs."/><meta name="twitter:description" content="GraphQL gives clients the power to ask for exactly what they need and nothing more, making it easier to evolve APIs over time."/><meta name="twitter:image" content="/graphql.github.io/img/twitter_image.png"/><link rel="shortcut icon" href="/graphql.github.io/img/favicon.png"/><link rel="home" type="application/rss+xml" href="/graphql.github.io/blog/rss.xml" title="GraphQL Team Blog"/><link rel="stylesheet" href="/graphql.github.io/style.css"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Rubik:300|Roboto:300"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,400i,600"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/></head><body><header><section><a class="nav-home" href="/graphql.github.io/"><img class="nav-logo" src="/graphql.github.io/img/logo.svg" width="30" height="30"/>GraphQL</a><nav><a href="/graphql.github.io/learn/">Learn</a><a href="/graphql.github.io/code/">Code</a><a href="/graphql.github.io/community/">Community</a><a href="/graphql.github.io/blog/">Blog</a><a href="http://facebook.github.io/graphql/" target="_blank" rel="noopener noreferrer">Spec</a></nav><div class="algolia-search-wrapper"><input type="text" id="algolia-search-input" placeholder="Search docs..."/></div></section></header><section><div class="documentationContent"><div class="inner-content"><h1>graphql/error</h1><div><p><code>graphql/error</code> 模組負責建立和格式化
GraphQL 錯誤。你可以從 <code>graphql/error</code> 模組載入，或是從 root <code>graphql</code> 模組載入。例如：</p><pre class="prism language-js"><span class="keyword">import</span> <span class="punctuation">{</span> GraphQLError <span class="punctuation">}</span> <span class="keyword">from</span> <span class="string">&#x27;graphql&#x27;</span><span class="punctuation">;</span> <span spellcheck="true" class="comment">// ES6</span>
<span class="keyword">var</span> <span class="punctuation">{</span> GraphQLError <span class="punctuation">}</span> <span class="operator">=</span> <span class="function">require</span><span class="punctuation">(</span><span class="string">&#x27;graphql&#x27;</span><span class="punctuation">)</span><span class="punctuation">;</span> <span spellcheck="true" class="comment">// CommonJS</span></pre><h2><a class="anchor" name=""></a>概觀 <a class="hash-link" href="#">#</a></h2><div><ul class="apiIndex">
  <li>
    <a href="#graphqlerror">
      <pre>class GraphQLError</pre>
      在 GraphQL 發生錯誤的表達形式。
    </a>
  </li>
  <li>
    <a href="#syntaxerror">
      <pre>function syntaxError</pre>
      產生一個 GraphQLError 代表一個語法錯誤。
    </a>
  </li>
  <li>
    <a href="#locatedError">
      <pre>function locatedError</pre>
      產生一個知道錯誤位置的新 GraphQLError。
    </a>
  </li>
  <li>
    <a href="#formaterror">
      <pre>function formatError</pre>
      根據 Response Format 描述的規則來格式化一個錯誤。
    </a>
  </li>
</ul>

</div><h2><a class="anchor" name=""></a>錯誤 <a class="hash-link" href="#">#</a></h2><h3><a class="anchor" name="graphqlerror"></a>GraphQLError <a class="hash-link" href="#graphqlerror">#</a></h3><pre class="prism language-js"><span class="keyword">class</span> <span class="class-name">GraphQLError</span> <span class="keyword">extends</span> <span class="class-name">Error</span> <span class="punctuation">{</span>
 <span class="function">constructor</span><span class="punctuation">(</span>
   message<span class="punctuation">:</span> string<span class="punctuation">,</span>
   nodes<span class="operator">?</span><span class="punctuation">:</span> Array<span class="operator">&lt;</span>any<span class="operator">&gt;</span><span class="punctuation">,</span>
   stack<span class="operator">?</span><span class="punctuation">:</span> <span class="operator">?</span>string<span class="punctuation">,</span>
   source<span class="operator">?</span><span class="punctuation">:</span> Source<span class="punctuation">,</span>
   positions<span class="operator">?</span><span class="punctuation">:</span> Array<span class="operator">&lt;</span>number<span class="operator">&gt;</span>
 <span class="punctuation">)</span>
<span class="punctuation">}</span></pre><p>在 GraphQL 發生錯誤的表達形式。包含在查詢的哪裡發生錯誤的資訊，有助於 debug。大部分普遍用下面的 <code>locatedError</code> 來建構。</p><h3><a class="anchor" name="syntaxerror"></a>syntaxError <a class="hash-link" href="#syntaxerror">#</a></h3><pre class="prism language-js"><span class="keyword">function</span> <span class="function">syntaxError</span><span class="punctuation">(</span>
  source<span class="punctuation">:</span> Source<span class="punctuation">,</span>
  position<span class="punctuation">:</span> number<span class="punctuation">,</span>
  description<span class="punctuation">:</span> string
<span class="punctuation">)</span><span class="punctuation">:</span> GraphQLError<span class="punctuation">;</span></pre><p>產生一個 GraphQLError 表示一個語法錯誤，包含在 source 中發生語法錯誤的位置的有用描述資訊。</p><h3><a class="anchor" name="locatederror"></a>locatedError <a class="hash-link" href="#locatederror">#</a></h3><pre class="prism language-js"><span class="keyword">function</span> <span class="function">locatedError</span><span class="punctuation">(</span>error<span class="punctuation">:</span> <span class="operator">?</span>Error<span class="punctuation">,</span> nodes<span class="punctuation">:</span> Array<span class="operator">&lt;</span>any<span class="operator">&gt;</span><span class="punctuation">)</span><span class="punctuation">:</span> GraphQLError <span class="punctuation">{</span></pre><p>給定一個可能是在嘗試執行一個 GraphQL 操作時拋出的任意錯誤，產生一個知道原始錯誤在文件中位置的新 GraphQLError。</p><h3><a class="anchor" name="formaterror"></a>formatError <a class="hash-link" href="#formaterror">#</a></h3><pre class="prism language-js"><span class="keyword">function</span> <span class="function">formatError</span><span class="punctuation">(</span>error<span class="punctuation">:</span> GraphQLError<span class="punctuation">)</span><span class="punctuation">:</span> GraphQLFormattedError

type GraphQLFormattedError <span class="operator">=</span> <span class="punctuation">{</span>
  message<span class="punctuation">:</span> string<span class="punctuation">,</span>
  locations<span class="punctuation">:</span> <span class="operator">?</span>Array<span class="operator">&lt;</span>GraphQLErrorLocation<span class="operator">&gt;</span>
<span class="punctuation">}</span><span class="punctuation">;</span>

type GraphQLErrorLocation <span class="operator">=</span> <span class="punctuation">{</span>
  line<span class="punctuation">:</span> number<span class="punctuation">,</span>
  column<span class="punctuation">:</span> number
<span class="punctuation">}</span><span class="punctuation">;</span></pre><p>給定一個 GraphQLError，根據 Response Format 描述的規則與 GraphQL 規範中的 Errors 部份來格式化一個錯誤。</p></div><a class="read-next" href="/graphql-js/execution"><span class="read-next-continue">Continue Reading →</span><span class="read-next-title">graphql/execution</span></a></div><div class="nav-docs"><div><h3>GraphQL.js Tutorial</h3><ul><li><a style="margin-left:0;" class="active" href="/graphql.github.io/graphql-js/">Getting Started</a></li><li><a style="margin-left:0;" class="active" href="/graphql.github.io/graphql-js/running-an-express-graphql-server/">Running Express + GraphQL</a></li><li><a style="margin-left:0;" class="active" href="/graphql.github.io/graphql-js/graphql-clients/">GraphQL Clients</a></li><li><a style="margin-left:0;" class="active" href="/graphql.github.io/graphql-js/basic-types/">Basic Types</a></li><li><a style="margin-left:0;" class="active" href="/graphql.github.io/graphql-js/passing-arguments/">Passing Arguments</a></li><li><a style="margin-left:0;" class="active" href="/graphql.github.io/graphql-js/object-types/">Object Types</a></li><li><a style="margin-left:0;" class="active" href="/graphql.github.io/graphql-js/mutations-and-input-types/">Mutations and Input Types</a></li><li><a style="margin-left:0;" class="active" href="/graphql.github.io/graphql-js/authentication-and-express-middleware/">Authentication &amp; Middleware</a></li></ul></div><div><h3>Advanced Guides</h3><ul><li><a style="margin-left:0;" class="active" href="/graphql.github.io/graphql-js/constructing-types/">Constructing Types</a></li></ul></div><div><h3>API Reference</h3><ul><li><a style="margin-left:0;" class="active" href="/graphql.github.io/graphql-js/express-graphql/">express-graphql</a><ul><li><a href="/graphql.github.io/graphql-js/express-graphql/#graphqlhttp">graphqlHTTP</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/graphql.github.io/graphql-js/graphql/">graphql</a><ul><li><a href="/graphql.github.io/graphql-js/graphql/#graphql">graphql</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/graphql.github.io/graphql-js/error/">graphql/error</a><ul><li><a href="/graphql.github.io/graphql-js/error/#formaterror">formatError</a></li><li><a href="/graphql.github.io/graphql-js/error/#graphqlerror">GraphQLError</a></li><li><a href="/graphql.github.io/graphql-js/error/#locatederror">locatedError</a></li><li><a href="/graphql.github.io/graphql-js/error/#syntaxerror">syntaxError</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/graphql.github.io/graphql-js/execution/">graphql/execution</a><ul><li><a href="/graphql.github.io/graphql-js/execution/#execute">execute</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/graphql.github.io/graphql-js/language/">graphql/language</a><ul><li><a href="/graphql.github.io/graphql-js/language/#break">BREAK</a></li><li><a href="/graphql.github.io/graphql-js/language/#getlocation">getLocation</a></li><li><a href="/graphql.github.io/graphql-js/language/#kind">Kind</a></li><li><a href="/graphql.github.io/graphql-js/language/#lex">lex</a></li><li><a href="/graphql.github.io/graphql-js/language/#parse">parse</a></li><li><a href="/graphql.github.io/graphql-js/language/#parsevalue">parseValue</a></li><li><a href="/graphql.github.io/graphql-js/language/#printsource">printSource</a></li><li><a href="/graphql.github.io/graphql-js/language/#visit">visit</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/graphql.github.io/graphql-js/type/">graphql/types</a><ul><li><a href="/graphql.github.io/graphql-js/type/#getnamedtype">getNamedType</a></li><li><a href="/graphql.github.io/graphql-js/type/#getnullabletype">getNullableType</a></li><li><a href="/graphql.github.io/graphql-js/type/#graphqlboolean">GraphQLBoolean</a></li><li><a href="/graphql.github.io/graphql-js/type/#graphqlenumtype">GraphQLEnumType</a></li><li><a href="/graphql.github.io/graphql-js/type/#graphqlfloat">GraphQLFloat</a></li><li><a href="/graphql.github.io/graphql-js/type/#graphqlid">GraphQLID</a></li><li><a href="/graphql.github.io/graphql-js/type/#graphqlinputobjecttype">GraphQLInputObjectType</a></li><li><a href="/graphql.github.io/graphql-js/type/#graphqlint">GraphQLInt</a></li><li><a href="/graphql.github.io/graphql-js/type/#graphqlinterfacetype">GraphQLInterfaceType</a></li><li><a href="/graphql.github.io/graphql-js/type/#graphqllist">GraphQLList</a></li><li><a href="/graphql.github.io/graphql-js/type/#graphqlnonnull">GraphQLNonNull</a></li><li><a href="/graphql.github.io/graphql-js/type/#graphqlobjecttype">GraphQLObjectType</a></li><li><a href="/graphql.github.io/graphql-js/type/#graphqlscalartype">GraphQLScalarType</a></li><li><a href="/graphql.github.io/graphql-js/type/#graphqlschema">GraphQLSchema</a></li><li><a href="/graphql.github.io/graphql-js/type/#graphqlstring">GraphQLString</a></li><li><a href="/graphql.github.io/graphql-js/type/#graphqluniontype">GraphQLUnionType</a></li><li><a href="/graphql.github.io/graphql-js/type/#isabstracttype">isAbstractType</a></li><li><a href="/graphql.github.io/graphql-js/type/#iscompositetype">isCompositeType</a></li><li><a href="/graphql.github.io/graphql-js/type/#isinputtype">isInputType</a></li><li><a href="/graphql.github.io/graphql-js/type/#isleaftype">isLeafType</a></li><li><a href="/graphql.github.io/graphql-js/type/#isoutputtype">isOutputType</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/graphql.github.io/graphql-js/utilities/">graphql/utilities</a><ul><li><a href="/graphql.github.io/graphql-js/utilities/#astfromvalue">astFromValue</a></li><li><a href="/graphql.github.io/graphql-js/utilities/#buildastschema">buildASTSchema</a></li><li><a href="/graphql.github.io/graphql-js/utilities/#buildclientschema">buildClientSchema</a></li><li><a href="/graphql.github.io/graphql-js/utilities/#buildschema">buildSchema</a></li><li><a href="/graphql.github.io/graphql-js/utilities/#introspectionquery">introspectionQuery</a></li><li><a href="/graphql.github.io/graphql-js/utilities/#isvalidjsvalue">isValidJSValue</a></li><li><a href="/graphql.github.io/graphql-js/utilities/#isvalidliteralvalue">isValidLiteralValue</a></li><li><a href="/graphql.github.io/graphql-js/utilities/#printintrospectionschema">printIntrospectionSchema</a></li><li><a href="/graphql.github.io/graphql-js/utilities/#printschema">printSchema</a></li><li><a href="/graphql.github.io/graphql-js/utilities/#typefromast">typeFromAST</a></li><li><a href="/graphql.github.io/graphql-js/utilities/#typeinfo">TypeInfo</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/graphql.github.io/graphql-js/validation/">graphql/validation</a><ul><li><a href="/graphql.github.io/graphql-js/validation/#specifiedrules">specifiedRules</a></li><li><a href="/graphql.github.io/graphql-js/validation/#validate">validate</a></li></ul></li></ul></div></div></div></section><footer><section class="sitemap"><a href="/" class="nav-home"></a><div><h5><a href="/graphql.github.io/learn/">Learn</a></h5><a href="/graphql.github.io/learn/">Introduction</a><a href="/graphql.github.io/learn/queries/">Query Language</a><a href="/graphql.github.io/learn/schema/">Type System</a><a href="/graphql.github.io/learn/execution/">Execution</a><a href="/graphql.github.io/learn/best-practices/">Best Practices</a></div><div><h5><a href="/graphql.github.io/code">Code</a></h5><a href="/graphql.github.io/code/#server-libraries">Servers</a><a href="/graphql.github.io/code/#graphql-clients">Clients</a><a href="/graphql.github.io/code/#tools">Tools</a></div><div><h5><a href="/graphql.github.io/community">Community</a></h5><a href="/graphql.github.io/community/upcoming-events/">Upcoming Events</a><a href="http://stackoverflow.com/questions/tagged/graphql" target="_blank" rel="noopener noreferrer">Stack Overflow</a><a href="https://www.facebook.com/groups/graphql.community/" target="_blank" rel="noopener noreferrer">Facebook Group</a><a href="https://twitter.com/GraphQL" target="_blank" rel="noopener noreferrer">Twitter</a></div><div><h5>More</h5><a href="/graphql.github.io/blog">GraphQL Team Blog</a><a href="http://facebook.github.io/graphql/" target="_blank" rel="noopener noreferrer">Read the Spec</a><a href="https://github.com/graphql" target="_blank" rel="noopener noreferrer">GitHub</a><a href="https://github.com/graphql/graphql.github.io/edit/source/site/graphql-js/APIReference-Errors.md" target="_blank" rel="noopener noreferrer">Edit this page ✎</a></div></section><a href="https://code.facebook.com/projects/" target="_blank" rel="noopener noreferrer" class="fbOpenSource"><img src="/graphql.github.io/img/oss_logo.png" alt="Facebook Open Source" width="170" height="45"/></a><section class="copyright">Copyright © 2016 Facebook Inc. The contents of this page are licensed BSD-3-Clause.</section></footer><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
        docsearch({
          apiKey: 'd103541f3e6041148aade2e746ed4d61',
          indexName: 'graphql',
          inputSelector: '#algolia-search-input'
        });
      </script><script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-44373548-16', 'auto');
ga('send', 'pageview');
      </script></body></html>